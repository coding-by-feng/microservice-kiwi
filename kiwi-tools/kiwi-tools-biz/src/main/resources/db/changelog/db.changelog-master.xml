<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <!-- Create projects table (has photo_url initially) -->
    <include file="db/changelog/changes/0005-create-project-table.xml" relativeToChangelogFile="false"/>

    <!-- Add glass flags to project table (now obsolete) -->
    <include file="db/changelog/changes/0006-add-project-glass-flags.xml" relativeToChangelogFile="false"/>

    <!-- Modify project columns: add change_note, drop glass_* flags -->
    <include file="db/changelog/changes/0007-modify-project-columns.xml" relativeToChangelogFile="false"/>

    <!-- Seed demo data (now without photo_url, 30 Auckland-related rows) -->
    <include file="db/changelog/changes/0001-create-projects-demo-data.xml" relativeToChangelogFile="false"/>

    <!-- Todo module tables -->
    <include file="db/changelog/changes/0100-create-todo-tables.xml" relativeToChangelogFile="false"/>

    <!-- Drop idempotency columns and indexes from todo tables -->
    <include file="db/changelog/changes/0101-drop-idempotency-columns.xml" relativeToChangelogFile="false"/>

    <!-- Add per-status timestamp columns to project -->
    <include file="db/changelog/changes/0008-add-project-status-timestamps.xml" relativeToChangelogFile="false"/>
</databaseChangeLog>
