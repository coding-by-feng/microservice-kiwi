logging:
  level:
    root: DEBUG
    it.ozimov.embedded.redis: DEBUG
    redis.embedded: DEBUG

spring:
  application:
    name: kiwi-ai
  profiles:
    active: test
  cloud:
    config:
      fail-fast: true
      name: ${spring.application.name}
      profile: ${spring.profiles.active}
      discovery:
        enabled: false
        service-id: kiwi-config
      enabled: false
  redis:
    host: kiwi-redis
    password: ENC(H2wp5eUHhX+b3JrwEtcBEl1/0b3IyoIf)
    port: 6379
    lettuce:
      pool:
        max-active: 8  # Maximum number of active connections (total connections in the pool)
        max-idle: 8     # Maximum number of idle connections
        min-idle: 0     # Minimum number of idle connections
        time-between-eviction-runs: 30000  # Time between pool eviction runs (in milliseconds)
  main:
    allow-bean-definition-overriding: true
  oauth2:
    resource:
      token-info-uri: https://localhost/oauth/check_token
    client:
      client-id: test-client
      client-secret: test-secret


grok:
  api:
    key: ${Grok_API_Key}  # Replace with the actual API key
    endpoint: https://api.x.ai/v1/chat/completions  # Hypothetical endpoint

ms:
  config:
    exclude-db: true
    exclude-cache: true

rest-template:
  http-client:
    max-total-connections: 20  # Lower for tests to reduce resource usage
    max-connections-per-route: 10
    validate-after-inactivity: 500
    connection-time-to-live: 10
  request-factory:
    connect-timeout: 10000  # Faster timeouts for tests
    read-timeout: 20000
  retry:
    max-attempts: 2  # Fewer retries for faster tests
    retryable-exceptions: "org.springframework.web.client.HttpServerErrorException,java.net.SocketTimeoutException"
    backoff-period: 500  # Faster backoff for tests